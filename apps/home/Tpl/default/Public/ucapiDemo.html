<include file="__THEME__/desktop/header" />
<div class="registerPicBg">
	<img src="__THEME__/desktop/images/register/backgroup.gif" width="1026" />
<!-- end .registerPicBg --></div>
<div class="registerBox">
	<h2 style="padding-bottom:0">UC_API测试功能</h2>
	<div class="progressBar" style="height:30px">
		<div class="clear"></div>
	<!-- end .progressBar --></div>
	<div class="scrollBox">
		<div class="formBox">
		<form action="{:U('home/Public/ucapiDemo')}" method="post" id="regform" name="reg" target="result"> 
		<ul id="formList">
			<li>
                <span class="uh">方法名：<em>*</em></span>
                <input type="text" id="methodNo" name="methodNo" style="width:190px;" value="" />
            </li>
            <li>
                <span class="uh">参数1：</span>
				<input type="text" style="width:100px;" name="val[]" />
				<a href="javascript:;" onclick="addParam()" style="margin-left:10px;">增加参数</a>
            </li>
		</ul>
		<ul>
            <li>
                <span class="uh">&nbsp;</span> 
				<button type="submit" class="btn next">测试</button>
            </li>
		</ul>
		<div class="clear"></div>
		</form>
		<div id="demoParam" style="display:none">
			<li>
                <span class="uh">参数[i]：</span>
				<input type="text" style="width:100px;" name="val[]" />
				<a href="javascript:;" onclick="removeParam(this)" style="margin-left:10px; font-family:Verdana, Geneva, sans-serif">X</a>
            </li>
		</div>
		<!-- end .formBox --></div>
		<div style="padding-left:40px; padding-top:15px; padding-right:10px; min-height:350px;">
			<iframe name="result" id="result" width="100%" height="100%"></iframe>
		</div>
	</div><!-- end .scrollBox -->
	
	<include file="_footer" />
<!-- end .registerBox --></div>
<script language="javascript">
k = 2;
//增加参数
function addParam(){
	$('#formList').append($('#demoParam').html().replace('[i]',k).replace('[i]',k));
	k++;
}
//删除参数
function removeParam(_this){
	$(_this).parent().remove();
	k--;
}
$(document).ready(function(e) {
	var validator = $("#regform").validate({
		rules: {
			methodNo: {
				required: true,
				minlength: 4
			}
		},
		messages: {
			methodNo: {
				required: "<i class='warring'></i>请输入服务号，例如：Ustu010",
				minlength: jQuery.format("<i class='warring'></i>您的服务号长度至少要超过{0}位"),
			}
		},
		// set this class to error-labels to indicate valid fields
		success: function(label) {
			// set &nbsp; as text for IE
			label.html("<i class='success'></i>").addClass("checked");
		},
		// specifying a submitHandler prevents the default submit, good for the demo
		submitHandler: function(form) {
			form.submit();
		}
	});
});
</script>
<include file="__THEME__/desktop/footer" />